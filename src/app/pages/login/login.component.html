<div *ngIf="isLoading" class="center">
  <app-loading-spinner></app-loading-spinner>
</div>

<div class="login-form" [ngClass]="{'transparent': isLoading}">
  <form [formGroup]="signInForm" (ngSubmit)="login()">
      <p class="h4 text-center font-weight-bold">Login</p>
      <div class="form-group">
        <div class="input-group" >
          <div class="input-group-prepend">
            <span class="input-group-text">
              <span class="fa fa-user"></span>
            </span>
          </div>
          <input
            class="form-control"
            type="email"
            placeholder="Email"
            formControlName="email"
            [ngClass]="{'is-invalid': signInForm.controls.email.invalid && (signInForm.controls.email.dirty || signInForm.controls.email.touched)}"
          />
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="fa fa-lock"></i>
            </span>
          </div>
          <input
            class="form-control"
            type="password"
            formControlName="password"
            placeholder="Password"
            [ngClass]="{'is-invalid': signInForm.controls.email.invalid && (signInForm.controls.email.dirty || signInForm.controls.email.touched)}"
          />
        </div>
      </div>
      <div *ngIf="message">
        <p style="color: red;">{{ message }}
          <strong *ngIf="isResendLinkActive" class="btn btn-info btn-sm" style="text-align: right;" (click)="resendVerificationEmail()">Resend</strong>
        </p>

      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-success btn-block login-btn">
          Sign in
        </button>
      </div>
      <div class="clearfix">
        <label class="float-left form-check-label">
          <input formControlName="rememberMe" type="checkbox"/> Remember me
        </label>
        <a (click)="toggleForgettenPassword()" class="float-right text-success">Forgot Password?</a>
      </div>

      <div class="or-seperator"><i>or</i></div>

      <div class="text-center social-btn">
        <a (click)="socialClicked('facebook')" class="btn btn-primary btn-block">
          <i class="fab fa-facebook-square"></i> Sign in with <b>Facebook</b>
        </a>
        <a (click)="socialClicked('twitter')" class="btn btn-info btn-block">
          <i class="fab fa-twitter-square"></i> Sign in with <b>Twitter</b>
          </a>
        <a (click)="socialClicked('google')" class="btn btn-danger btn-block">
          <i class="fab fa-google"></i> Sign in with <b>Google</b>
        </a>
      </div>

  </form>
  <div class="hint-text">
    Don't have an account? <a (click)="routeRegister()" class="text-success">Register Now!</a>
  </div>
  <br>
</div>
