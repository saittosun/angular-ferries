<div *ngIf="isLoading" class="center">
  <app-loading-spinner></app-loading-spinner>
</div>

<div class="container" [ngClass]="{'transparent': isLoading}">

  <div *ngIf="!errorMessage && allUsers" style="margin-top: 50px;">
    <h1 class="text-center font-weight-bold">Users</h1>

    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">No</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Phone</th>
          <th scope="col">Adress</th>
          <th scope="col">Country</th>
          <th scope="col">Role</th>
          <th scope="col">Subscribed</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of allUsers.data; let i = index" class="hover-item">
          <th scope="row"> {{allUsers.meta.from + i}}</th>
          <td> {{user.firstName}} </td>
          <td> {{user.lastName}} </td>
          <td> {{user.email}} </td>
          <td> {{user.phone}} </td>
          <td> {{user.address}} </td>
          <td> {{user.country}} </td>
          <td> {{user.role}} </td>
          <td class="text-center"> {{user.subscribe}} </td>
        </tr>
      </tbody>
    </table>

    <mat-paginator
        (page)="handlePageEvent($event)"
        [length]="length"
        [pageSize]="pageSize"
        [showFirstLastButtons]="showFirstLastButtons"
        [pageSizeOptions]="pageSizeOptions"
        [pageIndex]="pageIndex">
    </mat-paginator>


  </div>

  <div *ngIf="errorMessage">
    <h3 class="text-center text-danger" style="margin-top: 150px; margin-bottom: 350px;" > {{errorMessage}} </h3>
  </div >

</div>
